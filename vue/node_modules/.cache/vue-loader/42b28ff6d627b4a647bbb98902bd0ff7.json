{"remainingRequest":"/var/www/html/real/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/real/vue/src/components/AppBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/real/vue/src/components/AppBar.vue","mtime":1612515683484},{"path":"/var/www/html/real/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/real/vue/node_modules/babel-loader/lib/index.js","mtime":1612338812660},{"path":"/var/www/html/real/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/real/vue/node_modules/vue-loader/lib/index.js","mtime":1612338817168}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEaWFsb2cgZnJvbSAnLi9EaWFsb2cnCi8vIGltcG9ydCBTaWRlYmFyIGZyb20gJy4vU2lkZWJhcicKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0FwcEJhcicsCiAgICBwcm9wZXJ0eU5hbWUgOiAnJywKICAgIGRhdGEgKCkgewogICAgICByZXR1cm4gewogICAgICAgIG1pbmkgOiBmYWxzZSwKICAgICAgICBwcm9wZXJ0eSA6ICcnCiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZCA6IHsKICAgICAgbG9jYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLm1ldGEubmFtZQogICAgICB9LCAKICAgICAgcHJvcGVydHlMaXN0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wZXJ0eS5saXN0CiAgICAgIH0sCiAgICAgIHByb3BlcnR5SUQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnByb3BlcnR5Lmxpc3RbMF0KICAgICAgfSwKICAgICAgZmlyc3RQcm9wZXJ0eSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eUxpc3RbMF0KICAgICAgfSwKICAgICAgZ2V0U2VsZWN0ZWRQcm9wZXJ0eSgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJvcGVydHkuc2VsZWN0ZWQgPz8gbnVsbAogICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpICB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLm1ldGEubmFtZSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmhhbmRsZUdldE93bmVyUHJvcGVydHkoKQogICAgICAgIC8vIHRoaXMuc2VsZWN0ZWRQcm9wZXJ0eSgpCiAgICAgIH0pCiAgICB9LAogICAgY29tcG9uZW50cyA6IHsKICAgICAgICBEaWFsb2csCiAgICAgICAgLy8gU2lkZWJhcgogICAgfSwKICAgIG1ldGhvZHMgOiB7CiAgICAgIAogICAgICAvKioKICAgICAgICogU2V0IG1pbmkgc2lkZWJhcgogICAgICAgKi8KICAgICAgbWluaVNpZGViYXIoKSB7CiAgICAgICAgdGhpcy5taW5pID0gIXRoaXMubWluaQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXR0aW5ncy9taW5pU2lkZWJhcicsIHRoaXMubWluaSkudGhlbigKICAgICAgICAgIHNldCA9PiB7CiAgICAgICAgICAgIGlmKHNldCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5taW5pU2lkZWJhcgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgKQogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqIEF2YWlhbGFibGUgb3duZXIgcHJvcGVydHkKICAgICAgICovCiAgICAgIGhhbmRsZUdldE93bmVyUHJvcGVydHkoKQogICAgICB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcm9wZXJ0eS9saXN0JykudGhlbigKICAgICAgICAgIGZlZWRiYWNrID0+IHsKICAgICAgICAgICAgaWYoZmVlZGJhY2suc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9wZXJ0eSgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgICAgIH0sCiAgICAgIAogICAgICBzZWxlY3RQcm9wZXJ0eShwcm9wZXJ0eSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcm9wZXJ0eS9zZWxlY3RlZCcsIHByb3BlcnR5KS50aGVuKAogICAgICAgICAgc2VsZWN0ZWQgPT4gewogICAgICAgICAgICBpZihzZWxlY3RlZCkgewogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9wZXJ0eSgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgCiAgICAgIH0sCgogICAgICAvKioKICAgICAgICogU2VsZWN0ZWQgcHJvcGVydHkKICAgICAgICovCiAgICAgIHNlbGVjdGVkUHJvcGVydHkoKSB7CiAgICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5nZXRTZWxlY3RlZFByb3BlcnR5CiAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IChzZWxlY3RlZCAhPT0gJycpID8gc2VsZWN0ZWQuYXR0cmlidXRlcy5uYW1lIDogdGhpcy5maXJzdFByb3BlcnR5LmF0dHJpYnV0ZXMubmFtZQogICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["AppBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-app-bar app color=\"light\" clipped-left>\n      <v-app-bar-nav-icon @click.stop=\"miniSidebar\"></v-app-bar-nav-icon>\n      <v-row>\n          <v-col lg=\"4\">\n            <v-list-item One-line>\n                <v-list-item-content>\n                    <v-list-item-subtitle>\n                      {{ location }}\n                    </v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>         \n          </v-col>\n          <v-col lg=\"4\">\n            <div class=\"\">\n              <v-menu offset-y>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-list-item One-line v-bind=\"attrs\" v-on=\"on\">\n                      <v-list-item-content>\n                          <v-list-item-subtitle>{{ property }} \n                            <v-icon\n                              color=\"grey\"\n                              v-bind=\"attrs\"\n                              v-on=\"on\"\n                            >\n                              mdi-arrow-down\n                              <!-- mdi-expand-more -->\n                            </v-icon>    \n                          </v-list-item-subtitle>\n                      </v-list-item-content>\n                  </v-list-item> \n                </template>\n                <v-list>\n                  <v-list-item\n                    v-for=\"(item, index) in propertyList\"\n                    :key=\"index\"\n                    @click=\"selectProperty(item)\"\n                  >\n                    <v-list-item-title>{{ item.attributes.name }}</v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n            </div>\n          </v-col>        \n      </v-row>\n      <v-spacer></v-spacer>\n      <v-btn icon class=\"mr-1\">\n        <!-- <v-avatar>\n          <v-img src=\"https://gitlab.com/uploads/-/system/user/avatar/3883365/avatar.png\"></v-img>\n        </v-avatar> -->\n        <Dialog/>\n      </v-btn>\n      <!-- <v-btn icon class=\"mr-1\"> \n      </v-btn> -->\n    </v-app-bar>\n  </div>  \n</template>\n<script>\nimport Dialog from './Dialog'\n// import Sidebar from './Sidebar'\nexport default {\n    name: 'AppBar',\n    propertyName : '',\n    data () {\n      return {\n        mini : false,\n        property : ''\n      }\n    },\n    computed : {\n      location() {\n        return this.$route.meta.name\n      }, \n      propertyList() {\n        return this.$store.state.property.list\n      },\n      propertyID() {\n        return this.$store.state.property.list[0]\n      },\n      firstProperty() {\n        return this.propertyList[0]\n      },\n      getSelectedProperty() {\n        return this.$store.state.property.selected ?? null\n      }\n    },\n    created()  {\n      // console.log(this.$route.meta.name);\n      this.$nextTick(() => {\n        this.handleGetOwnerProperty()\n        // this.selectedProperty()\n      })\n    },\n    components : {\n        Dialog,\n        // Sidebar\n    },\n    methods : {\n      \n      /**\n       * Set mini sidebar\n       */\n      miniSidebar() {\n        this.mini = !this.mini\n        this.$store.dispatch('settings/miniSidebar', this.mini).then(\n          set => {\n            if(set === true) {\n               this.$store.state.settings.miniSidebar\n            }\n          }\n        )\n      },\n\n      /**\n       * Avaialable owner property\n       */\n      handleGetOwnerProperty()\n      {\n        return this.$store.dispatch('property/list').then(\n          feedback => {\n            if(feedback.status == 200) {\n              this.selectedProperty()\n            }\n          }\n        )\n      },\n      \n      selectProperty(property) {\n        this.$store.dispatch('property/selected', property).then(\n          selected => {\n            if(selected) {\n              this.selectedProperty()\n            }\n          }\n        )\n        \n      },\n\n      /**\n       * Selected property\n       */\n      selectedProperty() {\n        let selected = this.getSelectedProperty\n        this.property = (selected !== '') ? selected.attributes.name : this.firstProperty.attributes.name\n      }\n    }\n}\n</script>"]}]}