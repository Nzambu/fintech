{"remainingRequest":"/var/www/html/fintech/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/fintech/vue/src/views/Customer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/fintech/vue/src/views/Customer.vue","mtime":1613746740532},{"path":"/var/www/html/fintech/vue/node_modules/cache-loader/dist/cjs.js","mtime":1613550007784},{"path":"/var/www/html/fintech/vue/node_modules/babel-loader/lib/index.js","mtime":1613550007128},{"path":"/var/www/html/fintech/vue/node_modules/cache-loader/dist/cjs.js","mtime":1613550007784},{"path":"/var/www/html/fintech/vue/node_modules/vue-loader/lib/index.js","mtime":1613550011588}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZvcm1hdCwgcGFyc2VJU08gfSBmcm9tICdkYXRlLWZucyc7CmltcG9ydCBDdXN0b21lciBmcm9tICcuLi9tb2RlbHMvQ3VzdG9tZXInOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZSA6ICdDdXN0b21lcicsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjdXN0b21lckhlYWRlcnMgOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dCA6ICdOYW1lJywKICAgICAgICAgICAgICAgICAgICBhbGlnbiA6ICdTdGFydCcsCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGUgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHZhbHVlIDogJ3JlbGF0aW9uc2hpcHMudXNlclswXS5hdHRyaWJ1dGVzLm5hbWUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQgOiAnUGhvbmUnLAogICAgICAgICAgICAgICAgICAgIGFsaWduIDogJ1N0YXJ0JywKICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZSA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgOiAncmVsYXRpb25zaGlwcy51c2VyWzBdLnJlbGF0aW9uc2hpcHMucHJpbWFyeV9waG9uZVswXS5hdHRyaWJ1dGVzLnBob25lJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0IDogJ0pvaW4gRGF0ZScsCiAgICAgICAgICAgICAgICAgICAgYWxpZ24gOiAnU3RhcnQnLAogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6ICdhdHRyaWJ1dGVzLmNyZWF0ZWRfYXQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQgOiAnQ3VycmVuY3knLAogICAgICAgICAgICAgICAgICAgIGFsaWduIDogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGUgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHZhbHVlIDogJ3JlbGF0aW9uc2hpcHMuY3VycmVuY3lbMF0uYXR0cmlidXRlcy5zbHVnJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0IDogJ0Ftb3VudCBQYWlkJywKICAgICAgICAgICAgICAgICAgICBhbGlnbiA6ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6ICdhdHRyaWJ1dGVzLmFtb3VudF9wYWlkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0IDogJ0dyb3VwJywKICAgICAgICAgICAgICAgICAgICBhbGlnbiA6ICdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGUgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHZhbHVlIDogJ3JlbGF0aW9uc2hpcHMuZ3JvdXBbMF0uYXR0cmlidXRlcy5ncm91cCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dCA6ICdTdGF0dXMnLAogICAgICAgICAgICAgICAgICAgIGFsaWduIDogJ1N0YXJ0JywKICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZSA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgOiAncmVsYXRpb25zaGlwcy5zdGF0dXNbMF0uYXR0cmlidXRlcy5zdGF0dXMnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQgOiAnRGVsZXRlJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6ICdkZWxldGUnLAogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlIDogZmFsc2UKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dCA6ICdFZGl0JywKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6ICdlZGl0JywKICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZSA6IGZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHBhZ2UgOiAxLAogICAgICAgICAgICBzZWFyY2hJdGVtIDogJycsCiAgICAgICAgICAgIGN1c3RvbWVyIDogbmV3IEN1c3RvbWVyKCksCiAgICAgICAgICAgIGVkaXRDdXN0b21lciA6IGZhbHNlLAogICAgICAgICAgICBhZGRDdXN0b21lckRpYWxvZyA6IGZhbHNlLAogICAgICAgICAgICBhbGVydCA6IHRydWUsCiAgICAgICAgICAgIHNob3dEZWxldGVNb2RhbCA6IGZhbHNlLAogICAgICAgICAgICBzaG93U25hY2tiYXIgOiBmYWxzZSwKICAgICAgICAgICAgc25hY2tiYXJDb2xvciA6ICdkZWZhdWx0JywKICAgICAgICAgICAgc25hY2tiYXJUZXh0IDogJycsCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQgKCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5nZXRHZW5kZXJMaXN0KCkKICAgICAgICAgICAgdGhpcy5nZXRTdGF0dXNMaXN0KCkKICAgICAgICAgICAgdGhpcy5nZXRHcm91cExpc3QoKQogICAgICAgICAgICB0aGlzLmdldEN1cnJlbmN5TGlzdCgpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVkIDogewoKICAgICAgICAvLyBDdXN0b21lciBsaXN0CiAgICAgICAgY3VzdG9tZXJMaXN0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VzdG9tZXIubGlzdAogICAgICAgIH0sCgogICAgICAgIC8vIEN1c3RvbWVyIGdlbmRlciBsaXN0CiAgICAgICAgY3VzdG9tZXJHZW5kZXJMaXN0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VzdG9tZXIuZ2VuZGVyCiAgICAgICAgfSwKCiAgICAgICAgLy8gQ3VzdG9tZXIgc3RhdHVzIGxpc3QKICAgICAgICBjdXN0b21lclN0YXR1c0xpc3QoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXN0b21lci5zdGF0dXMKICAgICAgICB9LAoKICAgICAgICAvLyBDdXN0b21lciBzdGF0dXMgbGlzdAogICAgICAgIGN1c3RvbWVyR3JvdXBMaXN0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VzdG9tZXIuZ3JvdXBzCiAgICAgICAgfSwKCiAgICAgICAgLy8gQ3VycmVuY3kgbGlzdAogICAgICAgIGN1cnJlbmN5TGlzdCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1c3RvbWVyLmN1cnJlbmN5CiAgICAgICAgfQogICAgfSwgICAgCiAgICBtZXRob2RzIDogewogICAgICAgIC8qKgogICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY3VzdG9tZXIgZ2VuZGVyCiAgICAgICAgICovCiAgICAgICAgZ2V0R2VuZGVyTGlzdCgpIHsgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2N1c3RvbWVyL2dlbmRlcicpOyB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgYSBsaXN0IG9mIGN1c3RvbWVyIHN0YXRlcy9zdGF0dXMKICAgICAgICAgKi8KICAgICAgICBnZXRTdGF0dXNMaXN0KCkgeyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY3VzdG9tZXIvc3RhdHVzJyk7IH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY3VzdG9tZXIgZ3JvdXBzCiAgICAgICAgICovCiAgICAgICAgZ2V0R3JvdXBMaXN0KCkgeyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY3VzdG9tZXIvZ3JvdXBzJyk7IH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY3VycmVuY2llcwogICAgICAgICAqLwogICAgICAgIGdldEN1cnJlbmN5TGlzdCgpIHsgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2N1c3RvbWVyL2N1cnJlbmN5Jyk7IH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZvcm1hdCBkYXRlCiAgICAgICAgICovCiAgICAgICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgICAgICAgIHJldHVybiBmb3JtYXQocGFyc2VJU08obmV3IERhdGUoZGF0ZSkudG9JU09TdHJpbmcoKSksICdkZC9NTS95eXl5JykKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBGb3JtYXQgYW1vdW50IHBhaWQgdG8gdHdvIGRlY2ltYWwgcGxhY2VzCiAgICAgICAgICovCiAgICAgICAgZm9ybWF0VG9GaXhlZChhbW91bnQpIHsKICAgICAgICAgICAgbGV0IGEgPSBwYXJzZUludChhbW91bnQpIC8vLnRvRml4ZWQoMik7CiAgICAgICAgICAgIHJldHVybiBhLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHttYXhpbXVtRnJhY3Rpb25EaWdpdHM6Mn0pOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEN1c3RvbWVyIFN0YXR1cyBjb2xvcgogICAgICAgICAqLwogICAgICAgIHN0YXR1c0NvbG9yKHN0YXR1cykgewogICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICAgICAgICAgICAgY2FzZSAnQWN0aXZlJyA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKICAgICAgICAgICAgICAgIGNhc2UgJ0luYWN0aXZlJyA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKICAgICAgICAgICAgICAgIGRlZmF1bHQgOgogICAgICAgICAgICAgICAgICAgIHJldHVybiAnZ3JleSc7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqIHNob3cgYWRkIGN1c3RvbWVyIG1vZGFsCiAgICAgICAgICovCiAgICAgICAgc2hvd0FkZEN1c3RvbWVyKCkgeyAgIAogICAgICAgICAgICB0aGlzLmFkZEN1c3RvbWVyRGlhbG9nID0gIXRoaXMuYWRkQ3VzdG9tZXJEaWFsb2c7ICAgICAgICAgICAgCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogU2hvdyBlZGl0IGN1c3RvbWVyCiAgICAgICAgICovCiAgICAgICAgc2hvd0VkaXRDdXN0b21lcihjdXN0b21lcikgewoKICAgICAgICAgICAgLy8gRVh0cmFjdCB0aGUgY3VzdG9tZXIgZGF0YQogICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmlkID0gY3VzdG9tZXIuaWQ7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuZmlyc3RfbmFtZSA9IGN1c3RvbWVyLnJlbGF0aW9uc2hpcHMudXNlclswXS5hdHRyaWJ1dGVzLmZpcnN0TmFtZTsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5sYXN0X25hbWUgPSBjdXN0b21lci5yZWxhdGlvbnNoaXBzLnVzZXJbMF0uYXR0cmlidXRlcy5sYXN0TmFtZTsKCiAgICAgICAgICAgIC8vIGlmKGN1c3RvbWVyLnJlbGF0aW9uc2hpcHMudXNlclswXS5yZWxhdGlvbnNoaXBzLnByaW1hcnlfZW1haWxbMF0gIT09IG51bGwpIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMuY3VzdG9tZXIuZW1haWwgPSBjdXN0b21lci5yZWxhdGlvbnNoaXBzLnVzZXJbMF0ucmVsYXRpb25zaGlwcy5wcmltYXJ5X2VtYWlsWzBdLmF0dHJpYnV0ZXMuZW1haWw7CiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIGlmKGN1c3RvbWVyLnJlbGF0aW9uc2hpcHMudXNlclswXS5yZWxhdGlvbnNoaXBzLnByaW1hcnlfcGhvbmVbMF0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIucGhvbmUgPSBjdXN0b21lci5yZWxhdGlvbnNoaXBzLnVzZXJbMF0ucmVsYXRpb25zaGlwcy5wcmltYXJ5X3Bob25lWzBdLmF0dHJpYnV0ZXMucGhvbmU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuaWRfbnVtYmVyID0gY3VzdG9tZXIucmVsYXRpb25zaGlwcy51c2VyWzBdLmF0dHJpYnV0ZXMuaWRfbnVtYmVyOwoKICAgICAgICAgICAgaWYoY3VzdG9tZXIucmVsYXRpb25zaGlwcy51c2VyWzBdLnJlbGF0aW9uc2hpcHMuZ2VuZGVyWzBdICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmdlbmRlcl9pZCA9IGN1c3RvbWVyLnJlbGF0aW9uc2hpcHMudXNlclswXS5yZWxhdGlvbnNoaXBzLmdlbmRlclswXS5pZDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5jdXJyZW5jeV9pZCA9IGN1c3RvbWVyLnJlbGF0aW9uc2hpcHMuY3VycmVuY3lbMF0uaWQKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5ncm91cF9pZCA9IGN1c3RvbWVyLnJlbGF0aW9uc2hpcHMuZ3JvdXBbMF0uaWQKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5zdGF0dXNfaWQgPSBjdXN0b21lci5yZWxhdGlvbnNoaXBzLnN0YXR1c1swXS5pZAoKICAgICAgICAgICAgdGhpcy5lZGl0Q3VzdG9tZXIgPSAhdGhpcy5lZGl0Q3VzdG9tZXI7CgogICAgICAgICAgICB0aGlzLmFkZEN1c3RvbWVyRGlhbG9nID0gIXRoaXMuYWRkQ3VzdG9tZXJEaWFsb2c7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0IHVzZXIgZGF0YSB0byBudWxsCiAgICAgICAgICovCiAgICAgICAgc2V0VXNlckRhdGFUb051bGwgKCkgewogICAgICAgICAgICB0aGlzLmVkaXRDdXN0b21lciA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmlkID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5maXJzdF9uYW1lID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5sYXN0X25hbWUgPSBudWxsOwogICAgICAgICAgICAvLyB0aGlzLmN1c3RvbWVyLmVtYWlsID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5waG9uZSA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuaWRfbnVtYmVyID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5nZW5kZXJfaWQgPSBudWxsOwogICAgICAgICAgICB0aGlzLmN1c3RvbWVyLmN1cnJlbmN5X2lkID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5ncm91cF9pZCA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXIuc3RhdHVzX2lkID0gbnVsbDsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDbG9zZSBtb2RhbAogICAgICAgICAqLwogICAgICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgICAgICAgIHRoaXMuc2V0VXNlckRhdGFUb051bGwoKTsKICAgICAgICAgICAgdGhpcy5zaG93RGVsZXRlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5hZGRDdXN0b21lckRpYWxvZyA9IGZhbHNlOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEhhbmRsZSBlZGl0IGN1c3RvbWVyCiAgICAgICAgICovCiAgICAgICAgaGFuZGxlRWRpdEN1c3RvbWVyKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmN1c3RvbWVyX29ic2VydmVyLnZhbGlkYXRlKCkudGhlbigKICAgICAgICAgICAgICAgIGlzVmFsaWQgPT4gewogICAgICAgICAgICAgICAgICAgIGlmKGlzVmFsaWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2N1c3RvbWVyL3VwZGF0ZScsIHRoaXMuY3VzdG9tZXIpLnRoZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWVkYmFjayA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXR1cyA9IGZlZWRiYWNrLnN0YXR1cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIDIwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhclRleHQgPSAiQ3VzdG9tZXIgIiArIGZlZWRiYWNrLmRhdGEucmVsYXRpb25zaGlwcy51c2VyWzBdLmF0dHJpYnV0ZXMubmFtZSArIiB1cGRhdGVkIHN1Y2Nlc3NmdWx5LiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyQ29sb3IgPSAncHJpbWFyeSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTbmFja2JhciA9ICF0aGlzLnNob3dTbmFja2JhcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZlZWRiYWNrLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25hY2tiYXJUZXh0ID0gZmFpbC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhckNvbG9yID0gJ2Vycm9yJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dTbmFja2JhciA9ICF0aGlzLnNob3dTbmFja2JhcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEhhbmRsZSBhZGQgY3VzdG9tZXIKICAgICAgICAgKi8KICAgICAgICBoYW5kbGVBZGRDdXN0b21lcigpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5jdXN0b21lcl9vYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oCiAgICAgICAgICAgICAgICBpc1ZhbGlkID0+IHsKICAgICAgICAgICAgICAgICAgICBpZihpc1ZhbGlkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjdXN0b21lci9jcmVhdGUnLCB0aGlzLmN1c3RvbWVyKS50aGVuKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2sgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGF0dXMgPSBmZWVkYmFjay5zdGF0dXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICAyMDEgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCkgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyVGV4dCA9ICJDdXN0b21lciAiICsgZmVlZGJhY2suZGF0YS5yZWxhdGlvbnNoaXBzLnVzZXJbMF0uYXR0cmlidXRlcy5uYW1lICsiIGRlbGV0ZWQgc3VjY2Vzc2Z1bHkuIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25hY2tiYXJDb2xvciA9ICdwcmltYXJ5JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NuYWNrYmFyID0gIXRoaXMuc2hvd1NuYWNrYmFyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmVlZGJhY2suZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhclRleHQgPSBmYWlsLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyQ29sb3IgPSAnZXJyb3InOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NuYWNrYmFyID0gIXRoaXMuc2hvd1NuYWNrYmFyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRGVsZXRlIHRyYW5zYWN0aW9uIG1vZGFsCiAgICAgICAgICovCiAgICAgICAgZGVsZXRlQ3VzdG9tZXIoY3VzdG9tZXIpIHsKICAgICAgICAgICAgdGhpcy5jdXN0b21lci5pZCA9IGN1c3RvbWVyLmlkOwogICAgICAgICAgICB0aGlzLmN1c3RvbWVyLm5hbWUgPSBjdXN0b21lci5yZWxhdGlvbnNoaXBzLnVzZXJbMF0uYXR0cmlidXRlcy5uYW1lCiAgICAgICAgICAgIHRoaXMuc2hvd0RlbGV0ZU1vZGFsID0gIXRoaXMuc2hvd0RlbGV0ZU1vZGFsOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEhhbmRsZSBhZGQgdHJhbnNhY3Rpb24KICAgICAgICAgKi8KICAgICAgICBoYW5kbGVEZWxldGVDdXN0b21lcigpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2N1c3RvbWVyL2RlbGV0ZScsIHRoaXMudHJhbnNhY3Rpb24pLnRoZW4oCiAgICAgICAgICAgICAgICBmZWVkYmFjayA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXR1cyA9IGZlZWRiYWNrLnN0YXR1cwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc25hY2tiYXJUZXh0ID0gIkN1c3RvbWVyICIgKyBmZWVkYmFjay5kYXRhLnJlbGF0aW9uc2hpcHMudXNlclswXS5hdHRyaWJ1dGVzLm5hbWUgKyIgZGVsZXRlZCBzdWNjZXNzZnVseS4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhckNvbG9yID0gJ3N1Y2Nlc3MnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93U25hY2tiYXIgPSAhdGhpcy5zaG93U25hY2tiYXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmVlZGJhY2suZGF0YSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZmFpbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFja2JhclRleHQgPSBmYWlsLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWNrYmFyQ29sb3IgPSAnZXJyb3InOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NuYWNrYmFyID0gIXRoaXMuc2hvd1NuYWNrYmFyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgIH0sCiAgICB9Cn0K"},{"version":3,"sources":["Customer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAycA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Customer.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container fluid>\n        <v-snackbar\n            v-model=\"showSnackbar\"\n            :color=\"snackbarColor\"\n            top\n            timeout=\"-1\"\n            tag=\"div\"\n        >\n            {{ snackbarText }}\n\n            <template v-slot:action=\"{ attrs }\">\n                <v-icon\n                    v-bind=\"attrs\"\n                    @click=\"showSnackbar = false\"\n                    class=\"white--text\"\n                >\n                mdi-close\n                </v-icon>\n            </template>\n        </v-snackbar>\n        <v-row class=\"pr-3\">\n            <v-col class=\"pl-0 py-0\">\n                <v-list-item two-line>\n                    <v-list-item-content>\n                        <v-list-item-title>Customers</v-list-item-title>\n                        <v-list-item-subtitle>Here's a list of the people who also help you grow your business.</v-list-item-subtitle>\n                    </v-list-item-content>\n                </v-list-item>\n            </v-col>\n            <v-col class=\"py-0\">\n                <v-row>\n                    <v-spacer></v-spacer>\n                    <v-btn x-small class=\"py-4\">\n                        <v-icon icon>mdi-refresh</v-icon>\n                    </v-btn>\n                </v-row>\n            </v-col>\n            <v-col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                <div>\n                    <v-alert\n                        v-model=\"alert\"\n                        dismissible\n                        elevation=\"1\"\n                        icon=\"mdi-alert-octagon-outline\"\n                    >\n                        Not all heroes wear caps and costumes. Here is a list of your super heroes. You can also <v-btn color=\"primary custom-transform-class text-none\" small>SMS your customers</v-btn>\n                    </v-alert>\n                </div>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">  \n            <!-- Display the customers table -->\n                <v-card class=\"px-10\">\n                    <v-card-title\n                        class=\"py-0\"\n                    >\n                        <v-row class=\"py-0\">\n                            <v-col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                <v-row>\n                                    <v-spacer></v-spacer>\n                                    <v-btn color=\"\n                                        primary \n                                        custom-transform-class \n                                        text-none\" \n                                        small\n                                        @click=\"showAddCustomer\"\n                                    >Add New Customer</v-btn>\n                                </v-row> \n                            </v-col>\n                            <v-col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                <v-row>\n                                    <v-btn class=\"\n                                        rounded-l-xl \n                                        rounded-r-0\n                                        text-capitalize \n                                        primary \n                                        mr-1\"\n                                        small\n                                    >\n                                        Copy\n                                    </v-btn>\n                                    <v-btn class=\"rounded-0 text-capitalize primary mr-1\" small>\n                                        Excel\n                                    </v-btn>\n                                    <v-btn color=\"rounded-0 primary mr-1\" small>\n                                        PDF\n                                    </v-btn>\n                                    <v-btn class=\"\n                                        rounded-r-xl \n                                        rounded-l-0\n                                        text-capitalize \n                                        primary mr-1\"\n                                        small\n                                    >\n                                        Print\n                                    </v-btn>\n                                    <v-spacer></v-spacer>\n                                    <v-row class=\"py-0\">\n                                        <v-col cols=\"4\" class=\"text-right py-0 pr-0\">\n                                            <!-- <v-subheader class=\"text-right\">Search : </v-subheader> -->\n                                            <v-list-item class=\"pr-0\">\n                                                <v-list-item-content>\n                                                    <v-list-item-title class=\"grey--text text-right\">Search : </v-list-item-title>\n                                                </v-list-item-content>\n                                            </v-list-item>\n                                        </v-col>\n                                        <v-col cols=\"8 py-0 pl-1\">\n                                            <v-text-field\n                                                v-model=\"searchItem\"\n                                                outlined\n                                                dense\n                                            ></v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-row>  \n                            </v-col>\n                        </v-row>\n                    </v-card-title>\n                    <v-divider></v-divider>\n                    <v-row>\n                        <v-col>\n                            <v-data-table\n                                :headers=\"customerHeaders\"\n                                :items=\"customerList\"\n                                :search=\"searchItem\"\n                                :items-per-page=\"10\"\n                                :page.sync=\"page\"\n                                class=\"elevation-0\"\n                                @page-count=\"pageCount = $event\" \n                            >\n                                <template v-slot:[`item.attributes.created_at`]=\"{ item }\">\n                                    <span\n                                    >\n                                        {{ formatDate(item.attributes.created_at) }}\n                                    </span>\n                                </template>\n                                <template v-slot:[`item.attributes.amount_paid`]=\"{ item }\">\n                                    <div\n                                        class=\"text-right\"\n                                    >\n                                        {{ formatToFixed(item.attributes.amount_paid) }}\n                                    </div>\n                                </template>\n                                <template v-slot:[`item.relationships.status[0].attributes.status`]=\"{ item }\">\n                                    <v-chip\n                                        :color=\"statusColor(item.relationships.status[0].attributes.status)\"\n                                        small\n                                    >\n                                        {{ item.relationships.status[0].attributes.status }}\n                                    </v-chip>\n                                </template>\n                                <template v-slot:[`item.delete`]=\"{ item }\">                            \n                                    <v-icon\n                                        medium\n                                        color=\"red\"\n                                        @click=\"deleteCustomer(item)\"\n                                        class=\"ml-2 text-center\"\n                                    >\n                                        mdi-delete-circle\n                                    </v-icon>\n                                </template>\n                                <template v-slot:[`item.edit`]=\"{ item }\">   \n                                    <v-icon\n                                        medium\n                                        color=\"blue\"\n                                        class=\"mr-2 text-center\"\n                                        @click=\"showEditCustomer(item)\"\n                                    >\n                                        mdi-pencil-circle\n                                    </v-icon>\n                                </template>\n                            </v-data-table>\n                        </v-col>\n                    </v-row>\n                </v-card> \n\n            <!-- End of customers table -->\n            </v-col>\n        </v-row>\n\n        <!-- Add customer modal -->\n\n        <v-dialog\n            v-model=\"addCustomerDialog\"\n            persistent\n            max-width=\"600px\"\n        >\n        <v-card>\n            <v-card-title class=\"text-center green px-0 py-0\">\n                <v-toolbar\n                    flat\n                    dark\n                    color=\"primary\"\n                    \n                    class=\"mx-0\"\n                >\n                    <span class=\"headline\">Customer Details</span>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                        icon\n                        dark\n                        @click=\"closeModal\"\n                    >\n                        <v-icon>mdi-close</v-icon>\n                    </v-btn>\n                </v-toolbar>\n            </v-card-title>\n            <v-card-text>\n                <v-container>\n                    <validation-observer\n                        ref=\"customer_observer\"\n                    >\n                        <v-form>\n                            <v-row>\n                                <v-col cols=\"12\" md=\"6\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"First Name\"\n                                        rules=\"required\"\n                                    >\n                                        <v-text-field\n                                            v-model=\"customer.first_name\"\n                                            :error-messages=\"errors\"\n                                            label=\"First Name *\"\n                                            outlined\n                                            dense\n                                        ></v-text-field>\n                                    </validation-provider>\n                                </v-col>\n                                <v-col cols=\"12\" md=\"6\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Last Name\"\n                                        rules=\"required\"\n                                    >\n                                        <v-text-field\n                                            v-model=\"customer.last_name\"\n                                            :error-messages=\"errors\"\n                                            label=\"Last Name *\"\n                                            outlined\n                                            dense\n                                        ></v-text-field>\n                                    </validation-provider>\n                                </v-col>\n                                <!-- <v-col cols=\"12\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Email\"\n                                    >\n                                        <v-text-field\n                                            v-model=\"customer.email\"\n                                            :error-messages=\"errors\"\n                                            label=\"Email\"\n                                            outlined\n                                            dense\n                                        ></v-text-field>\n                                    </validation-provider>\n                                </v-col> -->\n                                <v-col cols=\"12\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Phone Number *\"\n                                        rules=\"required\"\n                                    >\n                                        <v-text-field\n                                            v-model=\"customer.phone\"\n                                            :error-messages=\"errors\"\n                                            label=\"Phone Number\"\n                                            prefix=\"+254\"\n                                            outlined\n                                            dense\n                                        ></v-text-field>\n                                    </validation-provider>\n                                </v-col>\n                                <v-col cols=\"12\" md=\"6\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"ID Number\"\n                                        rules=\"required\"\n                                    >\n                                        <v-text-field\n                                            v-model=\"customer.id_number\"\n                                            :error-messages=\"errors\"\n                                            label=\"ID Number *\"\n                                            outlined\n                                            dense\n                                        ></v-text-field>\n                                    </validation-provider>\n                                </v-col>\n                                <v-col cols=\"12\" md=\"6\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Gender\"\n                                    >\n                                        <v-select\n                                            v-model=\"customer.gender_id\"\n                                            :error-messages=\"errors\"\n                                            :items=\"customerGenderList\"\n                                            item-text=\"attributes.sex\"\n                                            item-value=\"id\"\n                                            label=\"Gender\"\n                                            outlined\n                                            dense\n                                        ></v-select>\n                                    </validation-provider>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Currency\"\n                                        rules=\"required\"\n                                    >\n                                        <v-select\n                                            v-model=\"customer.currency_id\"\n                                            :error-messages=\"errors\"\n                                            :items=\"currencyList\"\n                                            item-text=\"attributes.currency\"\n                                            item-value=\"id\"\n                                            label=\"Currency *\"\n                                            outlined\n                                            dense\n                                        ></v-select>\n                                    </validation-provider>\n                                </v-col>\n                                <v-col cols=\"12\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Group\"\n                                        rules=\"required\"\n                                    >\n                                        <v-select\n                                            v-model=\"customer.group_id\"\n                                            :error-messages=\"errors\"\n                                            :items=\"customerGroupList\"\n                                            item-text=\"attributes.group\"\n                                            item-value=\"id\"\n                                            label=\"Group *\"\n                                            outlined\n                                            dense\n                                        ></v-select>\n                                    </validation-provider>\n                                </v-col>\n                                <v-col cols=\"12\" v-if=\"editCustomer\">\n                                    <validation-provider\n                                        v-slot=\"{errors}\"\n                                        name=\"Status\"\n                                        rules=\"required\"\n                                    >\n                                        <v-select\n                                            v-model=\"customer.status_id\"\n                                            :error-messages=\"errors\"\n                                            :items=\"customerStatusList\"\n                                            item-text=\"attributes.status\"\n                                            item-value=\"id\"\n                                            label=\"Status *\"\n                                            outlined\n                                            dense\n                                        ></v-select>\n                                    </validation-provider>\n                                </v-col>\n                            </v-row>\n                        </v-form>\n                    </validation-observer>\n                </v-container>\n            <small>* field is required.</small>\n            </v-card-text>\n            <v-card-actions class=\"px-8 pb-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    color=\"warning darken-1 text-capitalize\"\n                    @click=\"closeModal\"\n                >\n                    Cancel\n                </v-btn>\n                <v-btn v-if=\"editCustomer\"\n                    color=\"blue darken-1 text-capitalize success\"\n                    @click=\"handleEditCustomer\"\n                >\n                    Save Changes\n                </v-btn>\n                <v-btn v-if=\"!editCustomer\"\n                    color=\"blue darken-1 text-capitalize success\"\n                    @click=\"handleAddCustomer\"\n                >\n                    Submit\n                </v-btn>\n            </v-card-actions>\n        </v-card>\n        </v-dialog>\n\n        <!-- End add customer -->\n\n        <!-- Delete customer modal -->\n\n        <v-dialog\n            v-model=\"showDeleteModal\"\n            persistent\n            max-width=\"400px\"\n        >\n            <v-card>\n                <v-card-title class=\"text-center\">\n                    <v-list-item>\n                        <v-list-item-content>\n                            <v-list-item-title class=\"grey--text\">Permanent Delete</v-list-item-title>\n                        </v-list-item-content>\n                    </v-list-item>\n                </v-card-title>\n                <v-card-text>\n                    <v-container class=\"text-center\"> \n                        <v-list-item>\n                            <v-list-item-content>\n                                <v-list-item-title class=\"grey--text\">{{ customer.name }}</v-list-item-title>\n                            </v-list-item-content>\n                        </v-list-item>\n                        <v-avatar\n                            size=\"100\"\n                        >\n                            <v-icon \n                                class=\"red--text\"\n                                x-large\n                            >mdi-delete-forever</v-icon>\n                        </v-avatar>\n                        <v-list-item two-line>\n                            <v-list-item-content>\n                                <v-list-item-title class=\"py-2\">Are you sure?</v-list-item-title>                                            \n                                <v-list-item-subtitle class=\"grey--text\">Do you really want to delete the record? <br/>Will delete record permanently!</v-list-item-subtitle>\n                            </v-list-item-content>\n                        </v-list-item>\n                    </v-container>\n                </v-card-text>\n                <v-card-actions class=\"px-10 pb-5\">\n                    <v-row>\n                        <v-btn\n                            color=\"grey darken-1\"\n                            class=\"white--text text-capitalize\"\n                            @click=\"closeModal()\"\n                        >\n                        Cancel\n                        </v-btn>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            class=\"red text-capitalize white--text\"   \n                            @click=\"handleDeleteCustomer()\"                  \n                        >Delete</v-btn>\n                    </v-row>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n\n        <!-- End modal -->\n\n    </v-container>\n</template>\n\n<script>\nimport { format, parseISO } from 'date-fns';\nimport Customer from '../models/Customer';\n\nexport default {\n    name : 'Customer',\n    data () {\n        return {\n            customerHeaders : [\n                {\n                    text : 'Name',\n                    align : 'Start',\n                    sortable : true,\n                    value : 'relationships.user[0].attributes.name'\n                },\n                {\n                    text : 'Phone',\n                    align : 'Start',\n                    sortable : true,\n                    value : 'relationships.user[0].relationships.primary_phone[0].attributes.phone'\n                },\n                {\n                    text : 'Join Date',\n                    align : 'Start',\n                    sortable : true,\n                    value : 'attributes.created_at'\n                },\n                {\n                    text : 'Currency',\n                    align : 'center',\n                    sortable : true,\n                    value : 'relationships.currency[0].attributes.slug'\n                },\n                {\n                    text : 'Amount Paid',\n                    align : 'center',\n                    sortable : true,\n                    value : 'attributes.amount_paid'\n                },\n                {\n                    text : 'Group',\n                    align : 'right',\n                    sortable : true,\n                    value : 'relationships.group[0].attributes.group'\n                },\n                {\n                    text : 'Status',\n                    align : 'Start',\n                    sortable : true,\n                    value : 'relationships.status[0].attributes.status'\n                },\n                {\n                    text : 'Delete',\n                    value : 'delete',\n                    sortable : false\n                },\n                {\n                    text : 'Edit',\n                    value : 'edit',\n                    sortable : false\n                }\n            ],\n            page : 1,\n            searchItem : '',\n            customer : new Customer(),\n            editCustomer : false,\n            addCustomerDialog : false,\n            alert : true,\n            showDeleteModal : false,\n            showSnackbar : false,\n            snackbarColor : 'default',\n            snackbarText : '',\n        }\n    },\n    created () {\n        this.$nextTick(() => {\n            this.getGenderList()\n            this.getStatusList()\n            this.getGroupList()\n            this.getCurrencyList();\n        });\n    },\n    computed : {\n\n        // Customer list\n        customerList() {\n            return this.$store.state.customer.list\n        },\n\n        // Customer gender list\n        customerGenderList() {\n            return this.$store.state.customer.gender\n        },\n\n        // Customer status list\n        customerStatusList() {\n            return this.$store.state.customer.status\n        },\n\n        // Customer status list\n        customerGroupList() {\n            return this.$store.state.customer.groups\n        },\n\n        // Currency list\n        currencyList() {\n            return this.$store.state.customer.currency\n        }\n    },    \n    methods : {\n        /**\n         * Get a list of customer gender\n         */\n        getGenderList() { this.$store.dispatch('customer/gender'); },\n\n        /**\n         * Get a list of customer states/status\n         */\n        getStatusList() { this.$store.dispatch('customer/status'); },\n\n        /**\n         * Get a list of customer groups\n         */\n        getGroupList() { this.$store.dispatch('customer/groups'); },\n\n        /**\n         * Get a list of currencies\n         */\n        getCurrencyList() { this.$store.dispatch('customer/currency'); },\n\n        /**\n         * Format date\n         */\n        formatDate(date) {\n            return format(parseISO(new Date(date).toISOString()), 'dd/MM/yyyy')\n        },\n\n        /**\n         * Format amount paid to two decimal places\n         */\n        formatToFixed(amount) {\n            let a = parseInt(amount) //.toFixed(2);\n            return a.toLocaleString('en-US', {maximumFractionDigits:2});\n        },\n\n        /**\n         * Customer Status color\n         */\n        statusColor(status) {\n            switch (status) {\n                case 'Active' :\n                    return 'success';\n                case 'Inactive' :\n                    return 'warning';\n                default :\n                    return 'grey';\n            }\n        },\n        \n        /**\n         * show add customer modal\n         */\n        showAddCustomer() {   \n            this.addCustomerDialog = !this.addCustomerDialog;            \n        },\n\n        /**\n         * Show edit customer\n         */\n        showEditCustomer(customer) {\n\n            // EXtract the customer data\n            this.customer.id = customer.id;\n            this.customer.first_name = customer.relationships.user[0].attributes.firstName;\n            this.customer.last_name = customer.relationships.user[0].attributes.lastName;\n\n            // if(customer.relationships.user[0].relationships.primary_email[0] !== null) {\n            //     this.customer.email = customer.relationships.user[0].relationships.primary_email[0].attributes.email;\n            // }\n\n            if(customer.relationships.user[0].relationships.primary_phone[0] !== null) {\n                this.customer.phone = customer.relationships.user[0].relationships.primary_phone[0].attributes.phone;\n            }\n\n            this.customer.id_number = customer.relationships.user[0].attributes.id_number;\n\n            if(customer.relationships.user[0].relationships.gender[0] !== null) {\n                this.customer.gender_id = customer.relationships.user[0].relationships.gender[0].id;\n            }\n            \n            this.customer.currency_id = customer.relationships.currency[0].id\n            this.customer.group_id = customer.relationships.group[0].id\n            this.customer.status_id = customer.relationships.status[0].id\n\n            this.editCustomer = !this.editCustomer;\n\n            this.addCustomerDialog = !this.addCustomerDialog;\n        },\n\n        /**\n         * Set user data to null\n         */\n        setUserDataToNull () {\n            this.editCustomer = false;\n            this.customer.id = null;\n            this.customer.first_name = null;\n            this.customer.last_name = null;\n            // this.customer.email = null;\n            this.customer.phone = null;\n            this.customer.id_number = null;\n            this.customer.gender_id = null;\n            this.customer.currency_id = null;\n            this.customer.group_id = null;\n            this.customer.status_id = null;\n        },\n\n        /**\n         * Close modal\n         */\n        closeModal() {\n            this.setUserDataToNull();\n            this.showDeleteModal = false;\n            this.addCustomerDialog = false;\n        },\n\n        /**\n         * Handle edit customer\n         */\n        handleEditCustomer() {\n            this.$refs.customer_observer.validate().then(\n                isValid => {\n                    if(isValid === true) {\n                        this.$store.dispatch('customer/update', this.customer).then(\n                            feedback => {\n                                let status = feedback.status\n                                switch (status) {\n                                    case  200 :\n                                        this.closeModal()\n                                        this.snackbarText = \"Customer \" + feedback.data.relationships.user[0].attributes.name +\" updated successfuly.\";\n                                        this.snackbarColor = 'primary';\n                                        this.showSnackbar = !this.showSnackbar;                                      \n                                        break;\n                                    default :\n                                         console.log(feedback.data)\n                                }\n                            },\n                            fail => {\n                                this.snackbarText = fail.response.data.message;\n                                this.snackbarColor = 'error';\n                                this.showSnackbar = !this.showSnackbar;\n                            }\n                        )\n                    }\n                }\n            )\n        },\n\n        /**\n         * Handle add customer\n         */\n        handleAddCustomer() {\n            this.$refs.customer_observer.validate().then(\n                isValid => {\n                    if(isValid === true) {\n                        this.$store.dispatch('customer/create', this.customer).then(\n                            feedback => {\n                                let status = feedback.status\n                                switch (status) {\n                                    case  201 :\n                                        this.closeModal()    \n                                        this.snackbarText = \"Customer \" + feedback.data.relationships.user[0].attributes.name +\" deleted successfuly.\";\n                                        this.snackbarColor = 'primary';\n                                        this.showSnackbar = !this.showSnackbar;                                   \n                                        break;\n                                    default :\n                                         console.log(feedback.data)\n                                }\n                            },\n                            fail => {\n                                this.snackbarText = fail.response.data.message;\n                                this.snackbarColor = 'error';\n                                this.showSnackbar = !this.showSnackbar;\n                            }\n                        )\n                    }\n                }\n            )\n        },\n\n        /**\n         * Delete transaction modal\n         */\n        deleteCustomer(customer) {\n            this.customer.id = customer.id;\n            this.customer.name = customer.relationships.user[0].attributes.name\n            this.showDeleteModal = !this.showDeleteModal;\n        },\n\n        /**\n         * Handle add transaction\n         */\n        handleDeleteCustomer() {\n            this.$store.dispatch('customer/delete', this.transaction).then(\n                feedback => {\n                    let status = feedback.status\n                    switch (status) {\n                        case 200 :\n                            this.closeModal()     \n                            this.snackbarText = \"Customer \" + feedback.data.relationships.user[0].attributes.name +\" deleted successfuly.\";\n                            this.snackbarColor = 'success';\n                            this.showSnackbar = !this.showSnackbar;                                  \n                            break;\n                        default :\n                            console.log(feedback.data)\n                    }\n                },\n                fail => {\n                    this.snackbarText = fail.response.data.message;\n                    this.snackbarColor = 'error';\n                    this.showSnackbar = !this.showSnackbar;\n                }\n            );\n        },\n    }\n}\n</script>"]}]}