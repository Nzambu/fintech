{"remainingRequest":"/var/www/html/real/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/real/vue/src/components/Dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/real/vue/src/components/Dialog.vue","mtime":1612516708492},{"path":"/var/www/html/real/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/real/vue/node_modules/babel-loader/lib/index.js","mtime":1612338812660},{"path":"/var/www/html/real/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/real/vue/node_modules/vue-loader/lib/index.js","mtime":1612338817168}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lIDogJ0RpYWxvZycsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2cgOiBmYWxzZSwKICAgICAgZmlyc3ROYW1lIDogbnVsbCwKICAgICAgbGFzdE5hbWUgOiBudWxsLAogICAgICBlbWFpbCA6IG51bGwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSAgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7IAogICAgICAgIHRoaXMuZ2V0VXNlclByb2ZpbGUoKQogICAgICB9KQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy5yZWZyZXNoVG9rZW4oKQogICAgfSkKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyBwcm9maWxlKCkgewogICAgLy8gICBsZXQgZGF0YSA9IHRoaXMuJHN0b3JlLnN0YXRlLnByb2ZpbGUucHJvZmlsZSA/PyBudWxsCiAgICAvLyAgIHJldHVybiBkYXRhCiAgICAvLyB9CiAgfSwKICBtZXRob2RzIDogewoKICAgIC8qKgogICAgICogTG9hZCB1c2VyIHByb2ZpbGUKICAgICAqLwogICAgZ2V0VXNlclByb2ZpbGUoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcm9maWxlL3Byb2ZpbGUnKS50aGVuKAogICAgICByZXNwb25zZSA9PiB7CgogICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YQogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqIFByb2ZpbGUgZGF0YSByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5CiAgICAgICAgICovCiAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuZmlyc3ROYW1lID0gZGF0YS5hdHRyaWJ1dGVzLmZpcnN0TmFtZTsKICAgICAgICAgIHRoaXMubGFzdE5hbWUgPSBkYXRhLmF0dHJpYnV0ZXMubGFzdE5hbWU7CiAgICAgICAgICB0aGlzLmVtYWlsID0gZGF0YS5hdHRyaWJ1dGVzLmVtYWlsOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICB9KQogICAgfSwKCiAgICAvKioKICAgICAqIFJlZnJlc2ggdGhlIGFjY2VzcyB0b2tlbgogICAgICogCiAgICAgKi8KICAgIHJlZnJlc2hUb2tlbigpIHsKICAgICAgLy8gbGV0IHRpbWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLmFjY2Vzc1Rva2VuLmV4cGlyZXNfaW4KICAgICAgLy8gbGV0IGludGVydmFsID0gKHRpbWUgLSAxMCkqMTAwMAogICAgICAvLyBjb25zb2xlLmxvZyhpbnRlcnZhbCkKICAgICAgLy8gbGV0IGsgPSAwCiAgICAgIC8vIHNldEludGVydmFsKCgpID0+IHsKICAgICAgLy8gICBjb25zb2xlLmxvZyhrKyspCiAgICAgIC8vIH0sIDEwKQogICAgfSwKCiAgICBnb3RUb1VTZXJQcm9maWxlKCkgewogICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZT0nL3Byb2ZpbGUnCiAgICB9LAogICAgCiAgICAvKioKICAgICAqIExvZyBvdXQgb3IgU2lnbiBvdXQKICAgICAqLwogICAgc2lnbk91dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F1dGgvbG9nb3V0JykudGhlbigKICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICB9LAogICAgICBlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dialog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-row>\n    <v-col\n      cols=\"8\"\n      sm=\"6\"\n      md=\"4\"\n      lg=\"4\"\n      xl=\"4\"\n    >\n    <!-- <v-dialog\n      v-model=\"dialog\"\n      persistent\n      max-width=\"290\"\n    > -->\n    <v-menu\n        bottom\n        offset-y\n        class=\"pb-1\"       \n      >\n      <!--  -->\n      <template v-slot:activator=\"{ on, attrs }\" >\n        <v-btn icon\n          v-bind=\"attrs\"\n          v-on=\"on\"          \n        >\n        <!-- <v-icon>mdi-dots-vertical</v-icon> -->\n          <v-avatar>\n            <v-img src=\"https://gitlab.com/uploads/-/system/user/avatar/3883365/avatar.png\"></v-img>\n          </v-avatar>\n        </v-btn>\n      </template>\n      <v-card>\n          <div class=\"pt-5 text-center\">\n            <v-avatar>\n              <v-img src=\"https://gitlab.com/uploads/-/system/user/avatar/3883365/avatar.png\"></v-img>\n            </v-avatar>\n          </div>\n            <v-card-text class=\"text-center pb-0\">\n            <b>{{firstName}} {{lastName}}</b>\n            </v-card-text>        \n            <v-card-text class=\"text-center pt-0\">\n              <span>{{email}}</span>\n            </v-card-text>\n            <div class=\"text-center py-5\">\n              <!-- Redirect the user to the profile -->\n              <v-btn\n                class=\"blue white--text text-capitalize\"\n                light\n                @click=\"$router.push('profile')\"\n              >\n                Manage Account\n              </v-btn>\n              <!-- End -->\n            </div>\n            <v-divider></v-divider>\n            <div class=\"text-center py-5\">\n              <v-btn\n                class=\"red white--text text-capitalize\"\n                light\n                @click=\"signOut\"\n              >\n                Sign Out\n              </v-btn>\n            </div>\n            <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"dialog = false\"\n            class=\"text-capitalize\"\n          >\n            Privacy Policy\n          </v-btn>\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"dialog = false\"\n            class=\"text-capitalize\"\n          >\n            Terms of Service\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-menu>\n    <!-- </v-dialog> -->\n    </v-col>\n  </v-row>\n</template>\n<script>\n  export default {\n    name : 'Dialog',\n    data () {\n      return {\n        dialog : false,\n        firstName : null,\n        lastName : null,\n        email : null\n      }\n    },\n    created()  {\n        this.$nextTick(() => { \n          this.getUserProfile()\n        })\n    },\n    mounted() {\n      this.$nextTick(() => {\n        this.refreshToken()\n      })\n    },\n    computed: {\n      // profile() {\n      //   let data = this.$store.state.profile.profile ?? null\n      //   return data\n      // }\n    },\n    methods : {\n\n      /**\n       * Load user profile\n       */\n      getUserProfile() {\n        this.$store.dispatch('profile/profile').then(\n        response => {\n\n          let data = response.data\n          \n          /**\n           * Profile data retrieved successfully\n           */\n          if(response.status === 200) {\n            this.firstName = data.attributes.firstName;\n            this.lastName = data.attributes.lastName;\n            this.email = data.attributes.email;\n          }\n        },\n        error => {\n          console.log(error.response)\n        })\n      },\n\n      /**\n       * Refresh the access token\n       * \n       */\n      refreshToken() {\n        // let time = this.$store.state.auth.accessToken.expires_in\n        // let interval = (time - 10)*1000\n        // console.log(interval)\n        // let k = 0\n        // setInterval(() => {\n        //   console.log(k++)\n        // }, 10)\n      },\n\n      gotToUSerProfile() {\n        window.location.replace='/profile'\n      },\n      \n      /**\n       * Log out or Sign out\n       */\n      signOut() {\n        this.$store.dispatch('auth/logout').then(\n        response => {\n          console.log(response)\n        },\n        error => {\n          console.log(error.response)\n        })\n      }\n    }\n  }\n</script>"]}]}