{"remainingRequest":"/var/www/html/real/vue/node_modules/babel-loader/lib/index.js!/var/www/html/real/vue/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/real/vue/src/store/UnitModule.js","dependencies":[{"path":"/var/www/html/real/vue/src/store/UnitModule.js","mtime":1612777735904},{"path":"/var/www/html/real/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/real/vue/node_modules/babel-loader/lib/index.js","mtime":1612338812660},{"path":"/var/www/html/real/vue/node_modules/eslint-loader/index.js","mtime":1612338813868}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVW5pdFNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvVW5pdFNlcnZpY2UnOwp2YXIgaW5pdGlhbFN0YXRlID0gewogIGxpc3Q6IFtdLAogIHNlbGVjdGVkOiAnJwp9OwpleHBvcnQgdmFyIHVuaXQgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogaW5pdGlhbFN0YXRlLAogIGFjdGlvbnM6IHsKICAgIC8qKgogICAgICogR2V0IHByb3BlcnR5CiAgICAgKiAKICAgICAqLwogICAgbGlzdDogZnVuY3Rpb24gbGlzdChfcmVmLCBwcm9wZXJ0eUlEKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIFVuaXRTZXJ2aWNlLmdldFByb3BlcnR5VW5pdHMocHJvcGVydHlJRCkudGhlbihmdW5jdGlvbiAoZmVlZGJhY2spIHsKICAgICAgICBjb21taXQoJ3VuaXRMaXN0JywgZmVlZGJhY2suZGF0YSk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmZWVkYmFjayk7CiAgICAgIH0sIGZ1bmN0aW9uIChmYWlsKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZhaWwpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBEZWxldGUgcHJvcGVydHkKICAgICAqLwogICAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKF9yZWYyLCB1bml0SUQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIFVuaXRTZXJ2aWNlLmRlbGV0ZVVuaXQodW5pdElEKS50aGVuKGZ1bmN0aW9uIChmZWVkYmFjaykgewogICAgICAgIHZhciB1bml0ID0gZmVlZGJhY2suZGF0YTsKICAgICAgICBjb21taXQoJ2RlbGV0ZWRQcm9wZXJ0eScsIHVuaXQuaWQpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmVlZGJhY2spOwogICAgICB9LCBmdW5jdGlvbiAoZmFpbCkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmYWlsKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8qKgogICAgICogU3RvcmUgdW5pdCBsaXN0CiAgICAgKiAKICAgICAqLwogICAgdW5pdExpc3Q6IGZ1bmN0aW9uIHVuaXRMaXN0KHN0YXRlLCBsaXN0KSB7CiAgICAgIHN0YXRlLmxpc3QgPSBsaXN0OwogICAgfSwKCiAgICAvKioKICAgICAqIFJlbW92ZSBkZWxldGVkIHVuaXQKICAgICAqLwogICAgZGVsZXRlZFVuaXQ6IGZ1bmN0aW9uIGRlbGV0ZWRVbml0KHN0YXRlLCB1bml0SUQpIHsKICAgICAgdmFyIHVuaXRJbmRleCA9IHN0YXRlLmxpc3QuZmluZEluZGV4KGZ1bmN0aW9uICh1bml0KSB7CiAgICAgICAgcmV0dXJuIHVuaXQuaWQgPT09IHVuaXRJRDsKICAgICAgfSk7CiAgICAgIHN0YXRlLmxpc3Quc3BsaWNlKHVuaXRJbmRleCwgMSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/var/www/html/real/vue/src/store/UnitModule.js"],"names":["UnitService","initialState","list","selected","unit","namespaced","state","actions","propertyID","commit","getPropertyUnits","then","feedback","data","Promise","resolve","fail","reject","delete","unitID","deleteUnit","id","mutations","unitList","deletedUnit","unitIndex","findIndex","splice"],"mappings":";;;AAAA,OAAOA,WAAP,MAAwB,yBAAxB;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAG,EADU;AAEjBC,EAAAA,QAAQ,EAAG;AAFM,CAArB;AAKA,OAAO,IAAMC,IAAI,GAAG;AAChBC,EAAAA,UAAU,EAAE,IADI;AAEhBC,EAAAA,KAAK,EAAEL,YAFS;AAGhBM,EAAAA,OAAO,EAAE;AAEL;AACR;AACA;AACA;AACQL,IAAAA,IANK,sBAMYM,UANZ,EAMwB;AAAA,UAAtBC,MAAsB,QAAtBA,MAAsB;AACzB,aAAOT,WAAW,CAACU,gBAAZ,CAA6BF,UAA7B,EAAyCG,IAAzC,CACH,UAAAC,QAAQ,EAAI;AACRH,QAAAA,MAAM,CAAC,UAAD,EAAaG,QAAQ,CAACC,IAAtB,CAAN;AACA,eAAOC,OAAO,CAACC,OAAR,CAAgBH,QAAhB,CAAP;AACH,OAJE,EAKH,UAAAI,IAAI,EAAI;AACJ,eAAOF,OAAO,CAACG,MAAR,CAAeD,IAAf,CAAP;AACH,OAPE,CAAP;AASH,KAhBI;;AAkBL;AACR;AACA;AACQE,IAAAA,MArBK,0BAqBcC,MArBd,EAqBsB;AAAA,UAAlBV,MAAkB,SAAlBA,MAAkB;AACvB,aAAOT,WAAW,CAACoB,UAAZ,CAAuBD,MAAvB,EAA+BR,IAA/B,CACH,UAAAC,QAAQ,EAAI;AACR,YAAIR,IAAI,GAAGQ,QAAQ,CAACC,IAApB;AACAJ,QAAAA,MAAM,CAAC,iBAAD,EAAoBL,IAAI,CAACiB,EAAzB,CAAN;AACA,eAAOP,OAAO,CAACC,OAAR,CAAgBH,QAAhB,CAAP;AACH,OALE,EAMH,UAAAI,IAAI,EAAI;AACJ,eAAOF,OAAO,CAACG,MAAR,CAAeD,IAAf,CAAP;AACH,OARE,CAAP;AAUH;AAhCI,GAHO;AAsChBM,EAAAA,SAAS,EAAE;AAEP;AACR;AACA;AACA;AACQC,IAAAA,QANO,oBAMEjB,KANF,EAMSJ,IANT,EAMe;AACnBI,MAAAA,KAAK,CAACJ,IAAN,GAAaA,IAAb;AACF,KARM;;AAUP;AACR;AACA;AACQsB,IAAAA,WAbO,uBAaKlB,KAbL,EAaYa,MAbZ,EAaoB;AACvB,UAAIM,SAAS,GAAGnB,KAAK,CAACJ,IAAN,CAAWwB,SAAX,CAAqB,UAAAtB,IAAI;AAAA,eAAIA,IAAI,CAACiB,EAAL,KAAYF,MAAhB;AAAA,OAAzB,CAAhB;AACAb,MAAAA,KAAK,CAACJ,IAAN,CAAWyB,MAAX,CAAkBF,SAAlB,EAA6B,CAA7B;AACH;AAhBM;AAtCK,CAAb","sourcesContent":["import UnitService from '../services/UnitService';\n\nconst initialState = {\n    list : [],\n    selected : '',\n}\n\nexport const unit = {\n    namespaced: true,\n    state: initialState,\n    actions: {\n        \n        /**\n         * Get property\n         * \n         */\n        list({ commit }, propertyID) {\n            return UnitService.getPropertyUnits(propertyID).then(\n                feedback => {\n                    commit('unitList', feedback.data)\n                    return Promise.resolve(feedback)\n                },\n                fail => {\n                    return Promise.reject(fail)\n                }\n            );            \n        },\n\n        /**\n         * Delete property\n         */\n        delete({ commit }, unitID) {\n            return UnitService.deleteUnit(unitID).then(\n                feedback => {\n                    let unit = feedback.data;\n                    commit('deletedProperty', unit.id);\n                    return Promise.resolve(feedback);\n                },\n                fail => {\n                    return Promise.reject(fail);\n                }\n            )\n        }\n\n    },\n    mutations: {\n\n        /**\n         * Store unit list\n         * \n         */\n        unitList(state, list) {\n           state.list = list\n        },\n\n        /**\n         * Remove deleted unit\n         */\n        deletedUnit(state, unitID) {\n            let unitIndex = state.list.findIndex(unit => unit.id === unitID)\n            state.list.splice(unitIndex, 1)\n        },\n    }\n}"]}]}