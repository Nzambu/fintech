{"remainingRequest":"/var/www/html/teal/vue/node_modules/babel-loader/lib/index.js!/var/www/html/teal/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/teal/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/teal/vue/src/components/AppBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/teal/vue/src/components/AppBar.vue","mtime":1613053095604},{"path":"/var/www/html/teal/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/teal/vue/node_modules/babel-loader/lib/index.js","mtime":1612338812660},{"path":"/var/www/html/teal/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/teal/vue/node_modules/vue-loader/lib/index.js","mtime":1612338817168},{"path":"/var/www/html/teal/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/teal/vue/node_modules/babel-loader/lib/index.js","mtime":1612338812660},{"path":"/var/www/html/teal/vue/node_modules/cache-loader/dist/cjs.js","mtime":1612338812780},{"path":"/var/www/html/teal/vue/node_modules/vue-loader/lib/index.js","mtime":1612338817168}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEaWFsb2cgZnJvbSAnLi9EaWFsb2cnOyAvLyBpbXBvcnQgU2lkZWJhciBmcm9tICcuL1NpZGViYXInCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcEJhcicsCiAgcHJvcGVydHlOYW1lOiAnJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWluaTogZmFsc2UsCiAgICAgIHByb3BlcnR5OiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2NhdGlvbjogZnVuY3Rpb24gbG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5tZXRhLm5hbWU7CiAgICB9LAogICAgcHJvcGVydHlMaXN0OiBmdW5jdGlvbiBwcm9wZXJ0eUxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wZXJ0eS5saXN0OwogICAgfSwKICAgIHByb3BlcnR5SUQ6IGZ1bmN0aW9uIHByb3BlcnR5SUQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wZXJ0eS5saXN0WzBdOwogICAgfSwKICAgIGZpcnN0UHJvcGVydHk6IGZ1bmN0aW9uIGZpcnN0UHJvcGVydHkoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5TGlzdFswXTsKICAgIH0sCiAgICBnZXRTZWxlY3RlZFByb3BlcnR5OiBmdW5jdGlvbiBnZXRTZWxlY3RlZFByb3BlcnR5KCkgewogICAgICB2YXIgX3RoaXMkJHN0b3JlJHN0YXRlJHByOwoKICAgICAgcmV0dXJuIChfdGhpcyQkc3RvcmUkc3RhdGUkcHIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wZXJ0eS5zZWxlY3RlZCkgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlJHN0YXRlJHByICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkc3RhdGUkcHIgOiBudWxsOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGdldFNlbGVjdGVkUHJvcGVydHk6IGZ1bmN0aW9uIGdldFNlbGVjdGVkUHJvcGVydHkobmV3R2V0U2VsZWN0ZWRQcm9wZXJ0eSwgb2xkR2V0U2VsZWN0ZWRQcm9wZXJ0eSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKG5ld0dldFNlbGVjdGVkUHJvcGVydHkgIT09IG9sZEdldFNlbGVjdGVkUHJvcGVydHkpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5nZXRQcm9wZXJ0eVVuaXRzKCk7CgogICAgICAgICAgX3RoaXMuZ2V0UHJvcGVydHlUZW5hbnRzKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5tZXRhLm5hbWUpOwogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIuaGFuZGxlR2V0T3duZXJQcm9wZXJ0eSgpOyAvLyB0aGlzLnNlbGVjdGVkUHJvcGVydHkoKQoKICAgIH0pOwogIH0sCiAgY29tcG9uZW50czogewogICAgRGlhbG9nOiBEaWFsb2cgLy8gU2lkZWJhcgoKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogU2V0IG1pbmkgc2lkZWJhcgogICAgICovCiAgICBtaW5pU2lkZWJhcjogZnVuY3Rpb24gbWluaVNpZGViYXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5taW5pID0gIXRoaXMubWluaTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL21pbmlTaWRlYmFyJywgdGhpcy5taW5pKS50aGVuKGZ1bmN0aW9uIChzZXQpIHsKICAgICAgICBpZiAoc2V0ID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLm1pbmlTaWRlYmFyOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQXZhaWFsYWJsZSBvd25lciBwcm9wZXJ0eQogICAgICovCiAgICBoYW5kbGVHZXRPd25lclByb3BlcnR5OiBmdW5jdGlvbiBoYW5kbGVHZXRPd25lclByb3BlcnR5KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncHJvcGVydHkvbGlzdCcpLnRoZW4oZnVuY3Rpb24gKGZlZWRiYWNrKSB7CiAgICAgICAgaWYgKGZlZWRiYWNrLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIF90aGlzNC5zZWxlY3RlZFByb3BlcnR5KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZWxlY3RQcm9wZXJ0eTogZnVuY3Rpb24gc2VsZWN0UHJvcGVydHkocHJvcGVydHkpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncHJvcGVydHkvc2VsZWN0ZWQnLCBwcm9wZXJ0eSkudGhlbihmdW5jdGlvbiAoc2VsZWN0ZWQpIHsKICAgICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICAgIF90aGlzNS5zZWxlY3RlZFByb3BlcnR5KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBleHRyYWN0UHJvcGVydHlOYW1lOiBmdW5jdGlvbiBleHRyYWN0UHJvcGVydHlOYW1lKHByb3BlcnR5KSB7CiAgICAgIHJldHVybiBwcm9wZXJ0eS5hdHRyaWJ1dGVzLm5hbWU7CiAgICB9LAoKICAgIC8qKgogICAgICogU2VsZWN0ZWQgcHJvcGVydHkKICAgICAqLwogICAgc2VsZWN0ZWRQcm9wZXJ0eTogZnVuY3Rpb24gc2VsZWN0ZWRQcm9wZXJ0eSgpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5nZXRTZWxlY3RlZFByb3BlcnR5OwogICAgICB0aGlzLnByb3BlcnR5ID0gc2VsZWN0ZWQgIT09ICcnID8gc2VsZWN0ZWQuYXR0cmlidXRlcy5uYW1lIDogdGhpcy5maXJzdFByb3BlcnR5LmF0dHJpYnV0ZXMubmFtZTsKICAgIH0sCgogICAgLyoqCiAgICAqIEdldCBzZWxlY3RlZCBwcm9wZXJ0eSBpZAogICAgKi8KICAgIGdldFByb3BlcnR5VW5pdHM6IGZ1bmN0aW9uIGdldFByb3BlcnR5VW5pdHMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VuaXQvbGlzdCcsIHRoaXMuZ2V0U2VsZWN0ZWRQcm9wZXJ0eS5pZCkudGhlbihmdW5jdGlvbiAoZmVlZGJhY2spIHsKICAgICAgICB2YXIgc3RhdHVzID0gZmVlZGJhY2suc3RhdHVzOwoKICAgICAgICBpZiAoc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIF90aGlzNi51bml0TGlzdCA9IGZlZWRiYWNrLmRhdGE7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAoZmFpbCkgewogICAgICAgIGNvbnNvbGUubG9nKGZhaWwucmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIEdldCBzZWxlY3RlZCBwcm9wZXJ0eSBpZAogICAgICovCiAgICBnZXRQcm9wZXJ0eVRlbmFudHM6IGZ1bmN0aW9uIGdldFByb3BlcnR5VGVuYW50cygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVuYW50L2xpc3QnLCB0aGlzLmdldFNlbGVjdGVkUHJvcGVydHkuaWQpLnRoZW4oZnVuY3Rpb24gKGZlZWRiYWNrKSB7CiAgICAgICAgdmFyIHN0YXR1cyA9IGZlZWRiYWNrLnN0YXR1czsKCiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczcudGVuYW50TGlzdCA9IGZlZWRiYWNrLmRhdGE7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAoZmFpbCkgewogICAgICAgIGNvbnNvbGUubG9nKGZhaWwucmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AppBar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <v-app-bar app color=\"light\" clipped-left>\n      <v-app-bar-nav-icon @click.stop=\"miniSidebar\"></v-app-bar-nav-icon>\n      <v-row>\n          <v-col lg=\"4\">\n            <v-list-item One-line>\n                <v-list-item-content>\n                    <v-list-item-subtitle>\n                      {{ location }}\n                    </v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>         \n          </v-col>\n          <v-col lg=\"4\">\n            <div class=\"\">\n              <v-menu offset-y>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-list-item One-line v-bind=\"attrs\" v-on=\"on\">\n                      <v-list-item-content>\n                          <v-list-item-subtitle>{{ property }} \n                            <v-icon\n                              color=\"grey\"\n                              v-bind=\"attrs\"\n                              v-on=\"on\"\n                            >\n                              mdi-arrow-down\n                              <!-- mdi-expand-more -->\n                            </v-icon>    \n                          </v-list-item-subtitle>\n                      </v-list-item-content>\n                  </v-list-item> \n                </template>\n                <v-list>\n                  <v-list-item\n                    v-for=\"(item, index) in propertyList\"\n                    :key=\"index\"\n                    @click=\"selectProperty(item)\"\n                  >\n                    <v-list-item-title>{{ extractPropertyName(item) }}</v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n            </div>\n          </v-col>        \n      </v-row>\n      <v-spacer></v-spacer>\n      <v-btn icon class=\"mr-1\">\n        <!-- <v-avatar>\n          <v-img src=\"https://gitlab.com/uploads/-/system/user/avatar/3883365/avatar.png\"></v-img>\n        </v-avatar> -->\n        <Dialog/>\n      </v-btn>\n      <!-- <v-btn icon class=\"mr-1\"> \n      </v-btn> -->\n    </v-app-bar>\n  </div>  \n</template>\n<script>\nimport Dialog from './Dialog'\n// import Sidebar from './Sidebar'\nexport default {\n    name: 'AppBar',\n    propertyName : '',\n    data () {\n      return {\n        mini : false,\n        property : ''\n      }\n    },\n    computed : {\n      location() {\n        return this.$route.meta.name\n      }, \n      propertyList() {\n        return this.$store.state.property.list\n      },\n      propertyID() {\n        return this.$store.state.property.list[0]\n      },\n      firstProperty() {\n        return this.propertyList[0]\n      },\n      getSelectedProperty() {\n        return this.$store.state.property.selected ?? null\n      }\n    },\n    watch : {\n      getSelectedProperty(newGetSelectedProperty, oldGetSelectedProperty) {\n        if(newGetSelectedProperty !== oldGetSelectedProperty) {\n          this.$nextTick(() => {\n            this.getPropertyUnits()\n            this.getPropertyTenants()\n          })\n        }\n      }\n    },\n    created()  {\n      // console.log(this.$route.meta.name);\n      this.$nextTick(() => {\n        this.handleGetOwnerProperty()\n        // this.selectedProperty()\n      })\n    },\n    components : {\n        Dialog,\n        // Sidebar\n    },\n    methods : {\n      \n      /**\n       * Set mini sidebar\n       */\n      miniSidebar() {\n        this.mini = !this.mini\n        this.$store.dispatch('settings/miniSidebar', this.mini).then(\n          set => {\n            if(set === true) {\n               this.$store.state.settings.miniSidebar\n            }\n          }\n        )\n      },\n\n      /**\n       * Avaialable owner property\n       */\n      handleGetOwnerProperty()\n      {\n        return this.$store.dispatch('property/list').then(\n          feedback => {\n            if(feedback.status == 200) {\n              this.selectedProperty()\n            }\n          }\n        )\n      },\n      \n      selectProperty(property) {\n        this.$store.dispatch('property/selected', property).then(\n          selected => {\n            if(selected) {\n              this.selectedProperty()\n            }\n          }\n        )\n        \n      },\n\n      extractPropertyName(property) {\n        return property.attributes.name\n      },\n\n      /**\n       * Selected property\n       */\n      selectedProperty() {\n        let selected = this.getSelectedProperty\n        this.property = (selected !== '') ? selected.attributes.name : this.firstProperty.attributes.name\n      },\n\n       /**\n       * Get selected property id\n       */\n      getPropertyUnits() \n      {\n        this.$store.dispatch('unit/list', this.getSelectedProperty.id).then(\n            feedback => {\n                let status = feedback.status\n                if(status === 200) {\n                    this.unitList = feedback.data;\n                }\n            },\n            fail => {\n                console.log(fail.response.data)\n            }\n        )\n      },\n\n      /**\n       * Get selected property id\n       */\n      getPropertyTenants() \n      {\n          this.$store.dispatch('tenant/list', this.getSelectedProperty.id).then(\n              feedback => {\n                  let status = feedback.status\n                  if(status === 200) {\n                      this.tenantList = feedback.data;\n                  }\n              },\n              fail => {\n                  console.log(fail.response.data)\n              }\n          )\n      },\n    }\n}\n</script>"],"sourceRoot":"src/components"}]}